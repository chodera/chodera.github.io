scale_y_continuous(breaks = c(0:9)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of cinemas") +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of seats
ggplot(data = cinemas_stras) +
aes(x = year, y = seats, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 10000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of seats") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 3800, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of screens
ggplot(data = cinemas_stras) +
aes(x = year, y = screens, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 50)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of screens") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 25, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of screens
ggplot(data = cinemas_stras) +
aes(x = year, y = screens, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 50)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of screens") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 25, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of movies shown
ggplot(data = cinemas_stras) +
aes(x = year, y = showing, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 100000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of entries
ggplot(data = cinemas_stras) +
aes(x = year, y = entries, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 3000000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Revenue
ggplot(data = cinemas_stras) +
aes(x = year, y = revenue, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 15000000)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of entries
ggplot(data = cinemas_stras) +
aes(x = year, y = entries, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 3000000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of movies shown
ggplot(data = cinemas_stras) +
aes(x = year, y = showing, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 100000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Occupancy rate
ggplot(data = cinemas_stras) +
aes(x = year, y = occupancy_rate, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 22)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of movies shown
ggplot(data = cinemas_stras) +
aes(x = year, y = showing, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 100000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of entries
ggplot(data = cinemas_stras) +
aes(x = year, y = entries, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 3000000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of entries") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of entries
ggplot(data = cinemas_stras) +
aes(x = year, y = entries, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 3000000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of entries") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 1000000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Revenue
ggplot(data = cinemas_stras) +
aes(x = year, y = revenue, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 15000000)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Revenue
ggplot(data = cinemas_stras) +
aes(x = year, y = revenue, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 15000000)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Revenue") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 6000000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Frequentation index
ggplot(data = cinemas_stras) +
aes(x = year, y = frequentation_index, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 10)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Frequentation index") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Frequentation index
ggplot(data = cinemas_stras) +
aes(x = year, y = frequentation_index, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 10)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Frequentation index") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 4, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Occupancy rate
ggplot(data = cinemas_stras) +
aes(x = year, y = occupancy_rate, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 22)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Occupancy rate") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Occupancy rate
ggplot(data = cinemas_stras) +
aes(x = year, y = occupancy_rate, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 22)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Occupancy rate") +
geom_vline(xintercept = 1999, colour = "red") +
annotate("text", x = 2005, y = 9, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
install.packages("gridExtra")
library(gridExtra)
## Number of seats
seats <- ggplot(data = cinemas_stras) +
aes(x = year, y = seats, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 10000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of seats") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 3800, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of screens
screens <- ggplot(data = cinemas_stras) +
aes(x = year, y = screens, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 50)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of screens") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 25, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of movies shown
movies <- ggplot(data = cinemas_stras) +
aes(x = year, y = showing, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 100000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of movies shown") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 40000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Number of entries
entries <- ggplot(data = cinemas_stras) +
aes(x = year, y = entries, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(1, 3000000)) +
expand_limits(y = 1) +
labs(x = "Year",
y = "Number of entries") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 1000000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Revenue
revenue <- ggplot(data = cinemas_stras) +
aes(x = year, y = revenue, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 15000000)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Revenue") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 6000000, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Frequentation index
freq <- ggplot(data = cinemas_stras) +
aes(x = year, y = frequentation_index, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 10)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Frequentation index") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 4, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
## Occupancy rate
occ <- installggplot(data = cinemas_stras) +
aes(x = year, y = occupancy_rate, group = 1) +
geom_line() +
scale_x_continuous(breaks = c(1992:2017), limits = c(1992, 2017)) +
scale_y_continuous(limits = c(0, 22)) +
#expand_limits(y = 1) +
labs(x = "Year",
y = "Occupancy rate") +
geom_vline(xintercept = 1999.5, colour = "red") +
annotate("text", x = 2005, y = 9, label = "Opening of multiplex cinema", family="Merriweather", size = 3) +
theme_bw() +
theme(text=element_text(family="Merriweather"),
panel.background = element_rect(fill = NA),
panel.grid.major.x = element_line(colour = "lightgray"),
panel.grid.major.y = element_line(colour = "lightgray"),
axis.text.x = element_text(colour = "black", angle = 45, hjust = 1),
axis.text.y = element_text(colour="black"))
# Plot graphs
grid.arrange(seats, screens, movies, entries, revenue, freq, ncol = 2)
# Load packages
library(tidyverse)
library(sylly)
# Load data
bas_rhin <- read_csv("https://dwitkowski.eu/assets/data/bas_rhin.csv")
# Get name column
bas_rhin_noms <- bas_rhin %>%
filter(nom != "Bas-Rhin") %>%
pull(nom)
# First thing to clean up is possible extensions of the place names, such as river names (e.g. like sur-Zorn or les-Bains).
bas_rhin_noms <- str_split(bas_rhin_noms, "-") %>%
map_chr(tail(1))
# Define dictionary for syllables
## French
url.fr.pattern <- url("http://tug.ctan.org/tex-archive/language/hyph-utf8/tex/generic/hyph-utf8/patterns/txt/hyph-fr.pat.txt")
hyph.fr <- read.hyph.pat(url.fr.pattern, lang="fr")
close(url.fr.pattern)
## German
url.de.pattern <- url("http://tug.ctan.org/tex-archive/language/hyph-utf8/tex/generic/hyph-utf8/patterns/txt/hyph-de-1996.pat.txt")
hyph.de <- read.hyph.pat(url.de.pattern, lang="de")
close(url.de.pattern)
# Split into syllables
## based on French dictionary
syllables_fr <- hyphen(bas_rhin_noms, hyph.pattern=hyph.fr) %>%
hyphenText() %>%
mutate(id = row_number()) %>%
select(id, french = word)
## based on German dictionary
syllables_de <- hyphen(bas_rhin_noms, hyph.pattern=hyph.de) %>%
hyphenText() %>%
mutate(id = row_number()) %>%
select(id, german = word)
# Merge data sets
syllables <- left_join(syllables_fr, syllables_de, by = "id")
# Compare the syllables based on the two dictionaries
syllables %>%
count(french == german)
# Inspect differences manually
syllables %>%
filter(french != german) %>%
View()
# Load data
bas_rhin <- read_csv("https://dwitkowski.eu/assets/data/bas_rhin.csv")
# Get name column
bas_rhin_noms <- bas_rhin %>%
pull(nom)
source('~/Documents/GitHub/chodera.github.io/assets/projects/2. Scraping a Wikipedia table/webscraping_wikipedia_20190506.R', echo=TRUE)
