<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/favicon.ico?v=2">

<title>Raincouver | David Witkowski</title>

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Raincouver | Portfolio</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Raincouver" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The following code stems from a project I prepared while studying in Vancouver. As it was very, very rainy, I decided to analyze some weather data, trying to answer if there was reason to be optimistic for the months to come." />
<meta property="og:description" content="The following code stems from a project I prepared while studying in Vancouver. As it was very, very rainy, I decided to analyze some weather data, trying to answer if there was reason to be optimistic for the months to come." />
<link rel="canonical" href="http://localhost:4000/raincouver/" />
<meta property="og:url" content="http://localhost:4000/raincouver/" />
<meta property="og:site_name" content="Portfolio" />
<meta property="og:image" content="http://localhost:4000/assets/images/rain_opt.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-29T00:00:00+01:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/raincouver/"},"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"}},"image":"http://localhost:4000/assets/images/rain_opt.jpg","url":"http://localhost:4000/raincouver/","headline":"Raincouver","dateModified":"2019-03-29T00:00:00+01:00","datePublished":"2019-03-29T00:00:00+01:00","description":"The following code stems from a project I prepared while studying in Vancouver. As it was very, very rainy, I decided to analyze some weather data, trying to answer if there was reason to be optimistic for the months to come.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto+Slab" rel="stylesheet">
 <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
<link href="/assets/css/screen.css" rel="stylesheet">

<link href="/assets/css/main.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

</head>




<body class="layout-post">

<div class="site-content">

<div class="container">

  <!-- Begin Menu Navigation
  ================================================== -->
  <nav class="navbar navbar-expand navbar-light bg-white fixed-top mediumnavigation nav-down">

      <div class="container pr-0">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>


      <div class="collapse navbar-collapse" id="navbarMediumish">

          <!-- Begin Menu -->

              <ul class="navbar-nav ml-auto">

                  
                  <li class="nav-item">
                  
                  <a class="nav-link" href="/about">About</a>
                  </li>

              </ul>

          <!-- End Menu -->

      </div>

      </div>
  </nav>
  <!-- End Navigation
  ================================================== -->



<!-- Site Title
================================================== -->
<div class="mainheading">
<a class="mainheading" href="/">
    <h1 class="sitetitle"><a class="black" href="/">David Witkowski</h1>
</a>
    <p class="lead">
         Portfolio of data-related projects
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    
<!-- Begin Article
================================================== -->
<div class="container">
	<div class="row">

		<!-- Post Share -->
		<div class="col-md-2 pl-0">
           <div class="share">
    <p>
        Contact
    </p>
    <ul>
      <li class="ml-1 mr-1">
      <a class="link-ft" href="mailto:david.witkowski@posteo.net">
      <i class="fas fa-envelope" ></i>
      </a>
      </li>

      <li class="ml-1 mr-1">
      <a class="link-ft" target="_blank" href="https://www.linkedin.com/in/david-witkowski-2bb3a4157/">
      <i class="fab fa-linkedin"></i>
      </a>
      </li>

        <li class="ml-1 mr-1">
        <a class="link-ft" target="_blank" href="https://github.com/chodera">
        <i class="fab fa-github"></i>
        </a>
        </li>

    </ul>

</div>

		</div>


		<!-- Post -->
        

		<div class="col-md-9 flex-first flex-md-unordered">
			<div class="mainheading">

      <!-- Post Title -->
				<h1 class="posttitle">Raincouver</h1>

			</div>

			<!-- Post Featured Image -->
			
				<img class="featured-image img-fluid" src="http://localhost:4000/assets/images/rain_opt.jpg" alt="Raincouver">
				
			
			<!-- End Featured Image -->

			<!-- Post Content -->
			<div class="article-post">
				<p>The following code stems from a project I prepared while studying in Vancouver. As it was very, very rainy, I decided to analyze some weather data, trying to answer if there was reason to be optimistic for the months to come.</p>

<p>The data is official <a href="http://climate.weather.gc.ca" target="_blank">governmental weather data</a>, measured at the weather station at the international airport in the year 2016, and contains information about the weather in Vancouver in 2016 (date, temperature, rainfall, snowfall, direction of the wind, â€¦). It can be downloaded here <a href="http://localhost:4000/assets/data/daily_weather_2016.csv">here</a>.</p>

<p>The idea was to plot monthly rainfall. From the information available, all that I needed to solve the problem was the rainfall (mm) and the month.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">NamedTuple</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span>
<span class="kn">import</span> <span class="nn">csv</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="n">Weather</span> <span class="o">=</span> <span class="n">NamedTuple</span><span class="p">(</span><span class="s">'Weather'</span><span class="p">,</span> <span class="p">[(</span><span class="s">'month'</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>       <span class="c1"># in range (&gt;0)
</span>                                 <span class="p">(</span><span class="s">'rainfall'</span><span class="p">,</span> <span class="nb">float</span><span class="p">)])</span> <span class="c1"># in range (&gt;0)
# interp. a day with its month and rainfall (mm)
</span><span class="n">W1</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">W2</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">)</span>
<span class="n">W3</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span>
<span class="n">W4</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mf">7.2</span><span class="p">)</span>

<span class="c1"># template based on compound
</span><span class="k">def</span> <span class="nf">fn_for_weather</span><span class="p">(</span><span class="n">w</span><span class="p">:</span> <span class="n">Weather</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">...</span><span class="p">:</span>
    <span class="k">return</span> <span class="o">...</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
               <span class="n">w</span><span class="o">.</span><span class="n">rainfall</span><span class="p">)</span>

<span class="c1"># List[Weather]
# interp. a list of weather data
</span><span class="n">LOW0</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">LOW1</span> <span class="o">=</span> <span class="p">[</span><span class="n">W1</span><span class="p">,</span> <span class="n">W2</span><span class="p">]</span>
<span class="n">LOW2</span> <span class="o">=</span> <span class="p">[</span><span class="n">W1</span><span class="p">,</span> <span class="n">W2</span><span class="p">,</span> <span class="n">W3</span><span class="p">,</span> <span class="n">W4</span><span class="p">]</span>

<span class="c1"># template based on arbitrary-sized and the reference rule
</span><span class="k">def</span> <span class="nf">fn_for_low</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="o">...</span><span class="p">:</span>
    <span class="c1"># description of the acc
</span>    <span class="n">acc</span> <span class="o">=</span> <span class="o">...</span>   <span class="c1"># type: ...
</span>    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">low</span><span class="p">:</span>
        <span class="o">...</span><span class="p">(</span><span class="n">acc</span><span class="p">,</span> <span class="n">fn_for_weather</span><span class="p">(</span><span class="n">w</span><span class="p">))</span>

    <span class="k">return</span> <span class="o">...</span><span class="p">(</span><span class="n">acc</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="s">"""
    Reads the file from given filename and creates a line chart showing the total rainfall (mm) per month
    """</span>
    <span class="c1"># template based on function composition
</span>    <span class="k">return</span> <span class="n">plot_line_chart</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="mi">26</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">num_header_rows</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">]:</span>
    <span class="s">"""
    Reads information from the specified file and returns a list of weather data (month and rainfall)

    Skips the first num_header_rows rows.
    """</span>

    <span class="c1"># low contains the result so far
</span>    <span class="n">low</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># type: List[Weather]
</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">csvfile</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csvfile</span><span class="p">)</span>

        <span class="c1"># the current line in the input file
</span>        <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># type: int
</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">&gt;</span> <span class="n">num_header_rows</span><span class="p">:</span>
                <span class="c1"># if we reach this point, we are past the header rows
</span>                <span class="n">month</span> <span class="o">=</span> <span class="n">parse_int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                <span class="n">rainfall</span> <span class="o">=</span> <span class="n">parse_float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span>
                <span class="c1"># only read lines without any missing values
</span>                <span class="k">if</span> <span class="n">is_valid_month</span><span class="p">(</span><span class="n">month</span><span class="p">)</span> <span class="ow">and</span> <span class="n">is_valid_rainfall</span><span class="p">(</span><span class="n">rainfall</span><span class="p">):</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">rainfall</span><span class="p">)</span>
                    <span class="n">low</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">low</span>


<span class="k">def</span> <span class="nf">is_valid_month</span><span class="p">(</span><span class="n">month</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s">"""
    return False if month is None and True otherwise
    """</span>
    <span class="c1"># return True # stub
</span>    <span class="c1"># template based on one-of (2 cases), atomic distinct and atomic non-distinct
</span>    <span class="k">if</span> <span class="n">month</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>


<span class="k">def</span> <span class="nf">is_valid_rainfall</span><span class="p">(</span><span class="n">rainfall</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s">"""
    return False if rainfall is None and True otherwise
    """</span>
    <span class="c1"># return True # stub
</span>    <span class="c1"># template based on one-of (2 cases), atomic distinct and atomic non-distinct
</span>    <span class="k">if</span> <span class="n">rainfall</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>


<span class="k">def</span> <span class="nf">plot_line_chart</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="s">"""
    Displays a line chart of the daily rainfall per month in low over time
    """</span>
    <span class="c1"># return None # body of the stub
</span>
    <span class="c1"># set properties of your chart    
</span>    <span class="n">pyplot</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">"Month"</span><span class="p">)</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Rainfall (mm)"</span><span class="p">)</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Total rainfall per month in Vanouver in 2016"</span><span class="p">)</span>
    <span class="n">pyplot</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

    <span class="c1"># plot our data
</span>    <span class="n">x_values</span> <span class="o">=</span> <span class="n">month_list</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
    <span class="n">y_values</span> <span class="o">=</span> <span class="n">rainfall_list</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">x_values</span><span class="p">)</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">pyplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">y_values</span><span class="p">)</span>

    <span class="c1"># set the labels for each 'tick' on the x-axis
</span>    <span class="n">tick_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Jan"</span><span class="p">,</span> <span class="s">"Feb"</span><span class="p">,</span> <span class="s">"Mar"</span><span class="p">,</span> <span class="s">"Apr"</span><span class="p">,</span> <span class="s">"May"</span><span class="p">,</span> <span class="s">"June"</span><span class="p">,</span> <span class="s">"July"</span><span class="p">,</span> <span class="s">"Aug"</span><span class="p">,</span> <span class="s">"Sept"</span><span class="p">,</span> <span class="s">"Oct"</span><span class="p">,</span> <span class="s">"Nov"</span><span class="p">,</span> <span class="s">"Dec"</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">tick_labels</span><span class="p">)</span>

    <span class="c1"># set properties of line
</span>    <span class="n">pyplot</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'b'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">'v'</span><span class="p">)</span>

    <span class="c1"># show plot
</span>    <span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">month_list</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="s">"""
    Creates a list of ints that represent the months in low

    Assumption: months are in order
    """</span>
    <span class="c1"># return [] # List[int]
</span>
    <span class="c1"># template from List[Weather]
</span>    <span class="c1"># acc will hold the distinct months seen so far
</span>    <span class="n">acc</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Type: List[int]
</span>    <span class="c1"># previous_element holds the information of the previous element
</span>    <span class="n">previous_element</span> <span class="o">=</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">low</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">same_month</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">previous_element</span><span class="p">):</span>
            <span class="n">acc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">return_month</span><span class="p">(</span><span class="n">w</span><span class="p">))</span>
            <span class="n">previous_element</span> <span class="o">=</span> <span class="n">w</span>

    <span class="k">return</span> <span class="n">acc</span>


<span class="k">def</span> <span class="nf">same_month</span><span class="p">(</span><span class="n">w1</span><span class="p">:</span> <span class="n">Weather</span><span class="p">,</span> <span class="n">w2</span><span class="p">:</span> <span class="n">Weather</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s">"""
    Returns True if the months of w1 and w2 are the same, False otherwise
    """</span>
    <span class="c1"># return True # stub
</span>    <span class="c1"># template based on Weather
</span>    <span class="k">return</span> <span class="n">same_int</span><span class="p">(</span><span class="n">return_month</span><span class="p">(</span><span class="n">w1</span><span class="p">),</span> <span class="n">return_month</span><span class="p">(</span><span class="n">w2</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">same_int</span><span class="p">(</span><span class="n">m1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">m2</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s">"""
    Returns True if m1 equals m2, False otherwise
    """</span>
    <span class="c1"># return True # stub
</span>    <span class="c1"># template based on atomic non-distinct
</span>    <span class="k">return</span> <span class="n">m1</span> <span class="o">==</span> <span class="n">m2</span>


<span class="k">def</span> <span class="nf">return_month</span><span class="p">(</span><span class="n">w</span><span class="p">:</span> <span class="n">Weather</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="s">"""
    returns the corresponding int for the month of w
    """</span>
    <span class="c1"># return 0 # stub
</span>    <span class="c1"># template based on Weather
</span>    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">month</span>


<span class="k">def</span> <span class="nf">rainfall_list</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">],</span> <span class="n">month_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="s">"""
    Creates a list of floats that represent the rainfall in each month of month_list
    """</span>
    <span class="c1"># return [] # List[int]
</span>
    <span class="c1"># template from List[Weather]
</span>    <span class="c1"># acc will hold the total rainfall for each month
</span>    <span class="n">acc</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Type: List[float]
</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">month_list</span><span class="p">:</span>
        <span class="n">acc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">acc</span>


<span class="k">def</span> <span class="nf">rainfall_per_month</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Weather</span><span class="p">],</span> <span class="n">month</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="s">"""
    Returns the total rainfall for the given month
    """</span>
    <span class="c1"># return 0.0 # Stub
</span>
    <span class="c1"># template from List[Weather]
</span>    <span class="c1"># acc will hold the total rainfall of the days seen so far
</span>    <span class="n">acc</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="c1"># Type: float
</span>
    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">low</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">same_int</span><span class="p">(</span><span class="n">return_month</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="n">month</span><span class="p">):</span>
            <span class="n">acc</span> <span class="o">=</span> <span class="n">acc</span> <span class="o">+</span> <span class="n">return_rainfall</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">acc</span>


<span class="k">def</span> <span class="nf">return_rainfall</span><span class="p">(</span><span class="n">w</span><span class="p">:</span> <span class="n">Weather</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="s">"""
    returns the corresponding float for the rainfall of w
    """</span>
    <span class="c1"># return 0 # stub
</span>    <span class="c1"># template based on Weather
</span>    <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="n">rainfall</span>


<span class="c1"># Begin testing
</span><span class="n">start_testing</span><span class="p">()</span>

<span class="c1"># Examples and tests for main
</span><span class="n">expect</span><span class="p">(</span><span class="n">main</span><span class="p">(</span><span class="s">'daily_weather_2016.csv'</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>

<span class="c1"># Examples and tests for read
</span><span class="n">expect</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="s">'daily_weather_2016_test1.csv'</span><span class="p">,</span> <span class="mi">26</span><span class="p">),</span> <span class="p">[</span><span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="s">'daily_weather_2016_test2.csv'</span><span class="p">,</span> <span class="mi">26</span><span class="p">),</span> <span class="p">[</span><span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)])</span>

<span class="c1"># Examples and tests for is_valid_month
</span><span class="n">expect</span><span class="p">(</span><span class="n">is_valid_month</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">is_valid_month</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">is_valid_month</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1"># Examples and tests for is_valid_rainfall
</span><span class="n">expect</span><span class="p">(</span><span class="n">is_valid_rainfall</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">is_valid_rainfall</span><span class="p">(</span><span class="mf">1.0</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">is_valid_rainfall</span><span class="p">(</span><span class="mf">22.0</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1"># Examples and tests for plot_line_chart
</span><span class="n">expect</span><span class="p">(</span><span class="n">plot_line_chart</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="s">'daily_weather_2016.csv'</span><span class="p">,</span> <span class="mi">26</span><span class="p">)),</span> <span class="bp">None</span><span class="p">)</span>

<span class="c1"># Examples and tests for month_list
</span><span class="n">expect</span><span class="p">(</span><span class="n">month_list</span><span class="p">([</span><span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)]),</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">month_list</span><span class="p">([</span><span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)]),</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">month_list</span><span class="p">([</span><span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)]),</span> <span class="p">[</span><span class="mi">7</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">month_list</span><span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="s">'daily_weather_2016.csv'</span><span class="p">,</span> <span class="mi">26</span><span class="p">)),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>

<span class="c1"># Examples and tests for return_month
</span><span class="n">expect</span><span class="p">(</span><span class="n">return_month</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">return_month</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Examples and tests for same_month
</span><span class="n">expect</span><span class="p">(</span><span class="n">same_month</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">same_month</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">Weather</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="bp">True</span><span class="p">)</span>

<span class="c1"># Examples and tests for same_int
</span><span class="n">expect</span><span class="p">(</span><span class="n">same_int</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">same_int</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1"># Examples and tests for rainfall_list
</span><span class="n">expect</span><span class="p">(</span><span class="n">rainfall_list</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_list</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">]),</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_list</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]),</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_list</span><span class="p">(</span><span class="n">LOW2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]),</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">])</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_list</span><span class="p">(</span><span class="n">LOW2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]),</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">,</span> <span class="mf">8.4</span><span class="p">])</span>

<span class="c1"># Examples and tests for rainfall_per_month
</span><span class="n">expect</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="mf">31.0</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">LOW1</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">rainfall_per_month</span><span class="p">(</span><span class="n">LOW2</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="mf">8.4</span><span class="p">)</span>

<span class="c1"># Examples and tests for return_rainfall
</span><span class="n">expect</span><span class="p">(</span><span class="n">return_rainfall</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">return_rainfall</span><span class="p">(</span><span class="n">Weather</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)),</span> <span class="mf">2.0</span><span class="p">)</span>

<span class="c1"># show testing summary
</span><span class="n">summary</span><span class="p">()</span>

<span class="p">[</span><span class="mi">32</span> <span class="n">of</span> <span class="mi">32</span> <span class="n">tests</span> <span class="n">passed</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Here is the final result. I lived in Vancouver from January until April, so indeed, it got better in the end. Based on the plot, it would have gotten even better afterwards. Still, I have never lived in a place where it rains so much as in Vancouver, BC.</p>

<p style="text-align: center;"><img src="http://localhost:4000/assets/images/rain_vancouver.png" alt="Plot" /></p>

<p>Get the full code <a href="https://github.com/chodera/chodera.github.io/blob/master/assets/projects/5_raincouver/project_witkowski.ipynb" target="_blank">here</a>.</p>

			</div>

		</div>
		<!-- End Post -->

	</div>
</div>
<!-- End Article
================================================== -->


</div>



<!-- Begin Footer
================================================== -->

<footer class="footer">

<!--   <div class="content">

              <div class="inner">
                <a class="link-ft" target="_blank" href="https://jekyllrb.com/">Jekyll</a>
                <aclass="link-ft">Â·</a>
                  <a class="link-ft" target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish</a>
              </div>

      </div>-->
</footer>
<!-- End Footer
================================================== -->


<!-- Scripts
================================================== -->

<script src="/assets/js/scrolldown.js"></script>

</body>
</html>
